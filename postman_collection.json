{
  "info": {
    "_postman_id": "ecommerce-microservices",
    "name": "E-Commerce Microservices",
    "description": "Collection de APIs para E-Commerce com Microserviços\nGateway",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "12345678"
  },
  "item": [
    {
      "name": "Clients",
      "description": "Operações de Cliente - Campos: name (string), email (string, único)",
      "item": [
        {
          "name": "Criar Cliente",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"João Silva\",\n  \"email\": \"joao@example.com\"\n}"
            },
            "url": {
              "raw": "http://localhost:9000/api/clients",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "clients"
              ]
            }
          }
        },
        {
          "name": "Listar Todos os Clientes",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:9000/api/clients",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "clients"
              ]
            }
          }
        },
        {
          "name": "Buscar Cliente por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:9000/api/clients/:id",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "clients",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "client-uuid"
                }
              ]
            }
          }
        },
        {
          "name": "Atualizar Cliente",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"João Silva Atualizado\",\n  \"email\": \"joao.novo@example.com\"\n}"
            },
            "url": {
              "raw": "http://localhost:9000/api/clients/:id",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "clients",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "client-uuid"
                }
              ]
            }
          }
        },
        {
          "name": "Deletar Cliente",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "http://localhost:9000/api/clients/:id",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "clients",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "client-uuid"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Products",
      "description": "Operações de Produto - Campos: name (string), description (string, opcional), price (float), stock (int)",
      "item": [
        {
          "name": "Criar Produto",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Notebook Dell\",\n  \"description\": \"Notebook de alta performance\",\n  \"price\": 3999.99,\n  \"stock\": 50\n}"
            },
            "url": {
              "raw": "http://localhost:9000/api/products",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "products"
              ]
            }
          }
        },
        {
          "name": "Listar Todos os Produtos",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:9000/api/products",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "products"
              ]
            }
          }
        },
        {
          "name": "Buscar Produto por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:9000/api/products/:id",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "products",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "product-uuid"
                }
              ]
            }
          }
        },
        {
          "name": "Atualizar Produto",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Notebook Dell Pro\",\n  \"price\": 4499.99,\n  \"stock\": 45\n}"
            },
            "url": {
              "raw": "http://localhost:9000/api/products/:id",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "products",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "product-uuid"
                }
              ]
            }
          }
        },
        {
          "name": "Atualizar Estoque do Produto",
          "description": "Adiciona ou subtrai quantidade do estoque. Use valores negativos para diminuir.",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"quantity\": -5\n}"
            },
            "url": {
              "raw": "http://localhost:9000/api/products/:id/stock",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "products",
                ":id",
                "stock"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "product-uuid"
                }
              ]
            }
          }
        },
        {
          "name": "Deletar Produto (Soft Delete)",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "http://localhost:9000/api/products/:id",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "products",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "product-uuid"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Type Payments",
      "description": "Operações de Tipos de Pagamento - Campos: name (string, único)",
      "item": [
        {
          "name": "Criar Tipo de Pagamento",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Cartão de Crédito\"\n}"
            },
            "url": {
              "raw": "http://localhost:9000/api/type-payments",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "type-payments"
              ]
            }
          }
        },
        {
          "name": "Listar Tipos de Pagamento",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:9000/api/type-payments",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "type-payments"
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Orders",
      "description": "Operações de Pedido - Campos: userId (string), products (array), paymentMethods (array)",
      "item": [
        {
          "name": "Criar Pedido",
          "description": "userId: ID do cliente\nproducts: array com {productId, quantity}\npaymentMethods: array com {typeId, typeName}",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"user-123\",\n  \"products\": [\n    {\n      \"productId\": \"product-uuid-1\",\n      \"quantity\": 2\n    }\n  ],\n  \"paymentMethods\": [\n    {\n      \"typeId\": \"payment-type-uuid\",\n      \"typeName\": \"Cartão de Crédito\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "http://localhost:9000/api/orders",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "orders"
              ]
            }
          }
        },
        {
          "name": "Listar Pedidos por Usuário",
          "description": "OBRIGATÓRIO: userID como query parameter",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:9000/api/orders?userID=user-123",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "orders"
              ],
              "query": [
                {
                  "key": "userID",
                  "value": "user-123"
                }
              ]
            }
          }
        },
        {
          "name": "Buscar Pedido por ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:9000/api/orders/:id",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "orders",
                ":id"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "order-uuid"
                }
              ]
            }
          }
        },
        {
          "name": "Atualizar Status do Pedido",
          "description": "Status válidos: AGUARDANDO_PAGAMENTO, FALHA_NO_PAGAMENTO, PAGO, CANCELADO",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"PAGO\"\n}"
            },
            "url": {
              "raw": "http://localhost:9000/api/orders/:id/status",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "orders",
                ":id",
                "status"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "order-uuid"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Payments",
      "description": "Operações de Pagamento - Campos: orderId (string), value (decimal), typePaymentId (string)",
      "item": [
        {
          "name": "Criar Pagamento",
          "description": "orderId: ID do pedido\nvalue: valor do pagamento\ntypePaymentId: ID do tipo de pagamento",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"orderId\": \"order-uuid\",\n  \"value\": 7999.98,\n  \"typePaymentId\": \"payment-type-uuid\"\n}"
            },
            "url": {
              "raw": "http://localhost:9000/api/payments",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "payments"
              ]
            }
          }
        },
        {
          "name": "Processar Pagamento",
          "description": "Processa o pagamento. 80% chance de aprovação, 20% de recusação. O valor deve corresponder ao valor original do pagamento.",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"value\": 7999.98\n}"
            },
            "url": {
              "raw": "http://localhost:9000/api/payments/:id/process",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "payments",
                ":id",
                "process"
              ],
              "variable": [
                {
                  "key": "id",
                  "value": "payment-uuid"
                }
              ]
            }
          }
        },
        {
          "name": "Buscar Pagamentos por Pedido",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "http://localhost:9000/api/payments/order/:orderId",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "payments",
                "order",
                ":orderId"
              ],
              "variable": [
                {
                  "key": "orderId",
                  "value": "order-uuid"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Notifications",
      "description": "Operações de Notificação - Publicação de eventos via RabbitMQ",
      "item": [
        {
          "name": "Notificar Pedido Pago",
          "description": "Envia notificação de pagamento aprovado para o serviço de notificações",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"pedidoId\": \"order-uuid\",\n  \"clienteEmail\": \"joao@example.com\",\n  \"valor\": 7999.98\n}"
            },
            "url": {
              "raw": "http://localhost:9000/api/notifications/order-paid",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "9000",
              "path": [
                "api",
                "notifications",
                "order-paid"
              ]
            }
          }
        }
      ]
    }
  ]
}
